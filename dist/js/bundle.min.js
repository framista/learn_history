!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}t.r(n);var o=function e(n,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r(this,e),this.event=n,this.date=t,this.step=o,this.userPosition=i},i=[new o("Chrzest Polski",966),new o("Bitwa pod Cedynią",972),new o("Zjazd w Gnieźnie",1e3),new o("Koronacja Bolesława Chrobrego",1025),new o("Podział Polski na dzielnice",1138),new o("Bitwa pod Płowcami",1331),new o("Założenie Akademii Krakowskiej",1364),new o("Bitwa pod Grunwaldem",1410),new o("Bitwa pod Warną",1444),new o("Hołd Pruski",1525),new o("Bitwa pod Kircholmem",1605),new o("Oblężenie Jasnej Góry",1655),new o("Odsiecz wiedeńska",1683),new o("Sejm Niemy",1717),new o("I rozbiór Polski",1772),new o("Utworzenie KEN",1773),new o("Konfederacja targowicka",1792),new o("II rozbiór Polski",1793),new o("Powstanie kościuszkowskie",1794),new o("III rozbiór Polski",1795),new o("Powstanie listopadowe",1830),new o("Bitwa warszawska",1920),new o("Przewrót majowy",1926),new o("Akcja pod Arsenałem",1943)];function a(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var s=document.getElementById("nextButton"),c=document.getElementById("previousButton"),l=document.querySelector(".result__button"),d=document.querySelectorAll(".step__p"),f=document.querySelectorAll(".step"),p=document.querySelector(".task"),w=document.querySelectorAll(".question"),m=document.querySelector(".result"),v=document.querySelector(".result__h1"),y=0,g=[];function h(e){var n=g.filter((function(n){return n.step===e}));n.sort((function(e,n){return e.userPosition-n.userPosition}));var t=document.querySelectorAll(".question");n.forEach((function(e,n){t[n].innerHTML=e.event}))}function b(){for(var e=a(p.children),n=function(n){var t=g.findIndex((function(t){return t.event===e[n].innerHTML}));g[t].userPosition=n},t=0;t<e.length;t++)n(t)}function P(e){f[e].classList.add("step--done"),f[e].firstElementChild.classList.add("step__p--done")}function k(e){f[e].classList.remove("step--done"),f[e].firstElementChild.classList.remove("step__p--done")}function S(){for(var e=0;e<f.length;e++)k(e)}function L(){for(var e=i.length,n=0;n<5;n++)for(var t=0;t<4;t++){for(var r=i[Math.floor(Math.random()*e)];-1!==r.step;)r=i[Math.floor(Math.random()*e)];r.step=n,r.userPosition=t,g.push(r)}h(y)}w.forEach((function(e){e.addEventListener("dragstart",(function(){e.classList.add("question--dragging")})),e.addEventListener("dragend",(function(){e.classList.remove("question--dragging")}))})),p.addEventListener("dragover",(function(e){e.preventDefault();var n,t=document.querySelector(".question--dragging"),r=(n=e.clientY,a(p.querySelectorAll(".question:not(.question--dragging)")).reduce((function(e,t){var r=t.getBoundingClientRect(),o=n-r.top-r.height/2;return o<0&&o>e.offset?{offset:o,element:t}:e}),{offset:Number.NEGATIVE_INFINITY}).element);r?p.insertBefore(t,r):p.appendChild(t)})),s.addEventListener("click",(function(){P(y),b(),y++,c.disabled=!1,4===y&&(s.innerHTML="Koniec"),5===y?function(){for(var e=0,n=function(n){var t=g.filter((function(e){return e.step===n}));t.sort((function(e,n){return e.userPosition-n.userPosition})),function(e){for(var n=!0,t=0;t<e.length-1;t++)if(e[t]>e[t+1]){n=!1;break}return n}(t.map((function(e){return e.date})))&&e++},t=0;t<5;t++)n(t);m.style.display="flex",v.innerHTML="".concat(e," / ").concat(5)}():h(y)})),c.addEventListener("click",(function(){k(--y),b(),h(y),s.innerHTML="Następne",0===y&&(c.disabled=!0)})),d.forEach((function(e,n){e.addEventListener("click",(function(e){b(),S(),h(y=n);for(var t=0;t<y;t++)P(t);c.disabled=0===n,s.innerHTML=4===y?"Koniec":"Następne"}))})),l.addEventListener("click",(function(){m.style.display="none",y=0,c.disabled=!0,s.innerHTML="Następne",g.length=0;for(var e=0;e<i.length;e++)i[e].step=-1;S(),L()})),L()}]);